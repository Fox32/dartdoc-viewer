<!DOCTYPE html>
<link rel="import" href="item.html">
<link rel="import" href="homepage.html">
<link rel="import" href="library.html">
<link rel="import" href="class.html">
<link rel="import" href="method.html">
  
<element name="dartdoc-page" constructor="PageElement" extends="article"
    apply-author-styles>
  <template>
  
    <template if="page.currentPage != null">
      
      <!-- Home -->
      <template instantiate="if page.currentPage is Home">
        <dartdoc-homepage home="{{page.currentPage}}"></dartdoc-homepage>
      </template>

      <!-- Library -->
      <template instantiate="if page.currentPage is Library">
        <dartdoc-library library="{{page.currentPage}}"></dartdoc-library>
      </template>

      <!-- Class -->
      <template instantiate="if page.currentPage is Class">
        <dartdoc-class clazz="{{page.currentPage}}"></dartdoc-class>
      </template>
     
      <!-- Method -->
      <template instantiate="if page.currentPage is Method">
        <dartdoc-method method="{{page.currentPage}}"></dartdoc-method>
      </template>
     
    </template>
    

  </template>
  
  <script type="application/dart">
    import 'dart:html';
    
    import 'package:dartdoc_viewer/item.dart';
    import 'package:web_ui/web_ui.dart';
    
    import 'app.dart' as app;
    
    /**
     * An HTML representation of a page
     */
    class PageElement extends WebComponent {
      // All instance variables here contain immutable data, so they do not 
      // need to be @observable since the data never changes.
      
      // Instance of the viewer being displayed.
      app.Viewer page = app.viewer;
     
      
      String get title => page.currentPage.name;
      
      /// Updates the display with the correct comment.
      addComment() {
        if (page.currentPage.comment != '' && 
            page.currentPage.comment != null) {
          var comment = getShadowRoot('dartdoc-page').query('.description');
          comment.children.clear();
          comment.children.add(new Element.html(page.currentPage.comment));
        }
      }
    }
  </script>
</element>