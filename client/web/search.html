<!DOCTYPE html>
<!--
Copyright (c) 2013, the Dart project authors.  Please see the AUTHORS file
for details. All rights reserved. Use of this source code is governed by a
BSD-style license that can be found in the LICENSE file.
-->
<html>
  <head>
    <meta charset="utf-8">
    <link rel="import" href="results.html">
  </head>

  <body>
  <element name="search-box" constructor="Search" extends="div">
    <template>
      <form class="navbar-form pull-right dropdown-toggle" id="search-box" 
        data-toggle="dropdown">
        <input type="search" name="q" id="q" autocomplete="off"
            class="form-control" style="width: 200px;" placeholder="Search API"
            bind-value="searchQuery" on-key-press="updateResults()" 
            on-key-up="updateResults()">
      </form>
      <template if="!searchQuery.isEmpty && isFocused">
        <div class="dropdown">
          <ul class="dropdown-menu pull-right" role="menu" 
            aria-labelledby="dropdownMenu">
            <template iterate="result in results">
              <li data-ref-id="{{result.element}}"
                  on-click="onSubmitCallback()">
                <search-result id="search{{result.position}}" qualifiedname="{{result.element}}" tabindex="-1">
                </search-result>
              </li>
            </template>
          </ul>
        </div>
      </template>
    </template>
   
    
    <script type="application/dart" src="search.dart">
    </script>
  </element>
  
</body></html>
