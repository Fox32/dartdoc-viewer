<!DOCTYPE html>
<!--
Copyright (c) 2013, the Dart project authors.  Please see the AUTHORS file
for details. All rights reserved. Use of this source code is governed by a
BSD-style license that can be found in the LICENSE file.
-->
<html>
  <head>
    <meta charset="utf-8">
    <link rel="import" href="results.html">
  </head>

  <body>
  <element name="search-box" constructor="Search" extends="div">
    <template>
      <div class="navbar-form pull-right dropdown 
        {{!searchQuery.isEmpty && isFocused ? 'open' : ''}}" id="search">
        <input type="search" name="q" id="q" autocomplete="off"
            class="form-control dropdown-toggle" placeholder="Search API"
            bind-value="searchQuery"  
            on-key-up="updateResults()" data-toggle="dropdown">
      
          <ul class="dropdown-menu pull-right" role="menu"
              aria-labelledby="dropdownMenu">
            <template if="results.isEmpty">
              <li class="search-result disabled">
                <a tabindex="-1" href="#">No Results.</a>
              </li>
            </template>
            <template iterate="result in results">
              <!-- A tabIndex of 0 allows for tab navigation through results -->
              <li data-ref-id="{{result.element}}"
                  on-click="onSubmitCallback()" tabindex="0"
                  id="search{{result.position}}" class="search-result">
                <search-result qualifiedname="{{result.element}}"
                    membertype="{{result.type}}">
                </search-result>
              </li>
            </template>
            <!-- TODO(janicejl): Add "...add More" link to show more results.-->
          </ul>
        </div>
    
    </template>
   
    
    <script type="application/dart" src="search.dart">
    </script>
  </element>
  
</body></html>
