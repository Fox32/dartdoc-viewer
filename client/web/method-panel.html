<!DOCTYPE html>
<link rel="import" href="item.html">
<link rel="import" href="category.html">
<link rel="import" href="parameters.html">
<link rel="import" href="annotations.html">

<!-- TODO(tmandel): Reduce redundancy here and in method.html -->
<polymer-element name="method-panel" attributes="item">
  <template>
      <div class="panel-heading">
        <dartdoc-annotation annotations="{{annotations}}">
        </dartdoc-annotation>
        <!-- Return Type -->
        <p>
          <span>
            {{modifiers}}
            <span class="type">
            </span>
            {{createType(item.type, 'method-panel', 'type')}}
            <template if="{{item.isOperator}}">operator</template>
            <b><a id="{{idName}}" href="#{{item.anchorHref}}">
                {{item.decoratedName}}</a></b>            
             <!-- Parameters -->
            <dartdoc-parameter parameters="{{parameters}}"></dartdoc-parameter>
          </span>
        </p>
      </div>

      <p class="text-right"><dfn>
        <template if="{{isInherited}}">
          Inherited from
          <template if="{{exists(inheritedFrom.location)}}">
            <a href="#{{inheritedFrom.loc.withAnchor}}">
              {{inheritedFrom.simpleType}}
            </a>
          </template>
          <template if="{{!exists(inheritedFrom.location)}}">
            <i>{{inheritedFrom.simpleType}}</i>
          </template>
        </template>
      </dfn></p>

        <section class="description">
        </section>
      <!-- Comment -->
      <template if="{{viewer.isInherited || !hasInheritedComment}}">
        {{addComment('method-panel', false)}}
      </template>

      <p class="text-right"><dfn>
        <template if="{{shouldShowMethodComment && 
            hasInheritedComment}}">
          <template if="{{viewer.isInherited}}">
            Comment inherited from
            <template if="{{exists(commentFrom.location)}}">
              <a href="#{{commentFrom.loc.withAnchor}}">
                {{commentFrom.simpleType}}
              </a>
            </template>
            <template if="{{!exists(commentFrom.location)}}">
              <i>{{commentFrom.simpleType}}</i>
            </template>
          </template>
        </template>
      </dfn></p>
  </template>

  <script type="application/dart" src="method-panel.dart">
  </script>

</polymer-element>